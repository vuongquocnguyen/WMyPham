(()=>{var t,e,r,n,a,o,i,u,c,s,l,f,p,d,y,h,v,g={228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},858:t=>{t.exports=function(t){if(Array.isArray(t))return t}},506:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},913:t=>{function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}},713:t=>{t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},525:(t,e,r)=>{var n=r(331);function a(e,r,o){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=a=Reflect.get:t.exports=a=function(t,e,r){var a=n(t,e);if(a){var o=Object.getOwnPropertyDescriptor(a,e);return o.get?o.get.call(r):o.value}},a(e,r,o||e)}t.exports=a},754:t=>{function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(r)}t.exports=e},205:(t,e,r)=>{var n=r(489);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},318:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}}},884:t=>{t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return r}}},521:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},585:(t,e,r)=>{var n=r(8),a=r(506);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?a(t):e}},489:t=>{function e(r,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(r,n)}t.exports=e},38:(t,e,r)=>{var n=r(858),a=r(884),o=r(379),i=r(521);t.exports=function(t,e){return n(t)||a(t,e)||o(t,e)||i()}},331:(t,e,r)=>{var n=r(754);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t}},8:t=>{function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e},379:(t,e,r)=>{var n=r(228);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},886:(t,e,r)=>{var n=r(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(r(713)),o=n(r(575)),i=n(r(913));function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var c=function(){function t(e,r){var n=r.elementType,a=void 0===n?"":n,i=r.elementId,u=void 0===i?"":i,c=r.isSupported,s=void 0===c?function(){return!0}:c;(0,o.default)(this,t),this.gateway=e,this.elementType=a,this.elementId=u,this.isSupported=s,this.msgElement=null}return(0,i.default)(t,[{key:"getElementType",value:function(){return this.elementType}},{key:"createMessage",value:function(){if(this.isSupported(this.gateway)&&this.createMessageElement()){var t=this.getElementContainer();t&&this.mount(t)}}},{key:"createMessageElement",value:function(){try{var t,e;this.msgElement?this.msgElement.update(this.getMessageOptions()):this.msgElement=null===(t=this.gateway)||void 0===t||null===(e=t.elements)||void 0===e?void 0:e.create(this.getElementType(),this.getMessageOptions())}catch(t){}return this.msgElement}},{key:"getMessageOptions",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,a.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({amount:this.getTotalPriceCents(),currency:this.gateway.get_currency()},this.gateway.params.messageOptions)}},{key:"mount",value:function(t){try{this.msgElement.mount(t)}catch(t){console.log(t)}}},{key:"getElementContainer",value:function(){}},{key:"getTotalPriceCents",value:function(){var t;return null===(t=this.gateway.get_gateway_data())||void 0===t?void 0:t.total_cents}},{key:"getTotalPrice",value:function(){var t;return null===(t=this.gateway.get_gateway_data())||void 0===t?void 0:t.total}}]),t}();e.default=c},677:(t,e,r)=>{var n=r(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(t){(0,c.default)(a,t);var e,r,n=(e=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,l.default)(e);if(r){var a=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,s.default)(this,t)});function a(){return(0,o.default)(this,a),n.apply(this,arguments)}return(0,i.default)(a,[{key:"getMessageOptions",value:function(){return p(p({},(0,u.default)((0,l.default)(a.prototype),"getMessageOptions",this).call(this)),{},{isEligible:this.isEligible(this.getTotalPrice())})}},{key:"isEligible",value:function(t){return t>=this.getMin()&&t<=this.getMax()}},{key:"getMin",value:function(){var t=this.gateway.get_currency(),e=this.gateway.params.requirements[t];return e?e[1]:0}},{key:"getMax",value:function(){var t=this.gateway.get_currency(),e=this.gateway.params.requirements[t];return e?e[2]:0}}]),a}(t)};var a=n(r(713)),o=n(r(575)),i=n(r(913)),u=n(r(525)),c=n(r(205)),s=n(r(585)),l=n(r(754));function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){(0,a.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},450:(t,e,r)=>{var n=r(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(r(575)),o=n(r(913)),i=n(r(205)),u=n(r(585)),c=n(r(754)),s=n(r(567));var l=function(t){(0,i.default)(l,t);var e,r,n=(e=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,c.default)(e);if(r){var a=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function l(t,e){var r;return(0,a.default)(this,l),(r=n.call(this,t,e)).containerId=e.containerId,r.initialize(),r}return(0,o.default)(l,[{key:"initialize",value:function(){(0,s.default)(document.body).on("updated_wc_div",this.updatedHtml.bind(this)),(0,s.default)(document.body).on("updated_cart_totals",this.updatedHtml.bind(this)),this.createMessage()}},{key:"updatedHtml",value:function(){this.gateway.has_gateway_data()&&this.createMessage()}},{key:"getElementContainer",value:function(){return(0,s.default)("#".concat(this.elementId)).length||(0,s.default)(".cart_totals table.shop_table > tbody").append('<tr id="'.concat(this.containerId,'"><td colspan="2"><div id="').concat(this.elementId,'"></div></td></tr>')),document.getElementById(this.elementId)}}]),l}(n(r(886)).default);e.default=l},628:(t,e,r)=>{var n=r(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(r(713)),o=n(r(575)),i=n(r(913));function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=function(){function t(e,r,n){(0,o.default)(this,t),this.id=n.id,this.elementType=n.elementType,this.props=n,this.stripe=e,this.elements=e.elements({locale:"auto"}),this.data=r,this.initialize()}return(0,i.default)(t,[{key:"initialize",value:function(){this.createMessages()}},{key:"createMessages",value:function(){if(this.props.isSupported(this)){var t,e=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}(this.data.products);try{for(e.s();!(t=e.n()).done;){var r=t.value;this.isSupportedProduct(r)&&this.createMessage(r)}}catch(t){e.e(t)}finally{e.f()}}}},{key:"createMessage",value:function(t){try{var e=this.elements.create(this.elementType,this.getMessageOptions(t)),r=this.getMessageContainer(t);r&&e.mount(r)}catch(t){console.log(t)}}},{key:"isSupportedProduct",value:function(t){var e=this.data.product_types.includes(t.product_type);return e&&this.props.isSupportedProduct&&(e=this.props.isSupportedProduct(this,t)),e}},{key:"getMessageContainer",value:function(t){var e="".concat(this.id,"-").concat(t.id);return e="wc-stripe-shop-message-".concat(e),document.getElementById("".concat(e))}},{key:"getMessageOptions",value:function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,a.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({amount:t.price_cents,currency:this.data.currency},this.data[this.id].messageOptions)}}]),t}();e.default=s},663:(t,e,r)=>{var n=r(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(r(575)),o=n(r(913)),i=n(r(525)),u=n(r(205)),c=n(r(585)),s=n(r(754)),l=n(r(567));var f=function(t){(0,u.default)(f,t);var e,r,n=(e=f,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,s.default)(e);if(r){var a=(0,s.default)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function f(){var t;(0,a.default)(this,f);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=n.call.apply(n,[this].concat(r))).initialize(),t}return(0,o.default)(f,[{key:"isEnabled",value:function(){return this.gateway.params.payment_sections.includes("checkout")}},{key:"initialize",value:function(){this.isEnabled()&&((0,l.default)(document.body).on("updated_checkout",this.updatedCheckout.bind(this)),this.gateway.has_gateway_data()&&this.createMessage())}},{key:"updatedCheckout",value:function(){this.createMessage()}},{key:"createMessage",value:function(){this.gateway.has_gateway_data()&&(0,i.default)((0,s.default)(f.prototype),"createMessage",this).call(this)}},{key:"getElementContainer",value:function(){return(0,l.default)("#".concat(this.elementId)).length||(0,l.default)('label[for="payment_method_'.concat(this.gateway.gateway_id,'"]')).append('<div id="'.concat(this.elementId,'"></div>')),document.getElementById(this.elementId)}}]),f}(n(r(886)).default);e.default=f},579:(t,e,r)=>{var n=r(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(r(575)),o=n(r(913)),i=n(r(205)),u=n(r(585)),c=n(r(754)),s=n(r(567));var l=function(t){(0,i.default)(l,t);var e,r,n=(e=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,c.default)(e);if(r){var a=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function l(){var t;(0,a.default)(this,l);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=n.call.apply(n,[this].concat(r))).initialize(),t}return(0,o.default)(l,[{key:"initialize",value:function(){(0,s.default)(document.body).on("change",'[name="quantity"]',this.createMessage.bind(this,!0)),(0,s.default)("form.cart").on("found_variation",this.foundVariation.bind(this)),(0,s.default)("form.cart").on("reset_data",this.resetVariationData.bind(this)),this.createMessage()}},{key:"foundVariation",value:function(){var t;(t=this.gateway).found_variation.apply(t,arguments),this.createMessage()}},{key:"resetVariationData",value:function(){var t;(t=this.gateway).reset_variation_data.apply(t,arguments),this.createMessage()}},{key:"getElementContainer",value:function(){return(0,s.default)("#".concat(this.elementId)).length||((0,s.default)(".summary .price").length?(0,s.default)(".summary .price").append('<div id="'.concat(this.elementId,'"></div>')):(0,s.default)(".price").length&&(0,s.default)((0,s.default)(".price")[0]).append('<div id="'.concat(this.elementId,'"></div>'))),document.getElementById(this.elementId)}},{key:"getTotalPriceCents",value:function(){var t,e;return this.gateway.has_gateway_data()?(null===(t=this.gateway.get_gateway_data())||void 0===t||null===(e=t.product)||void 0===e?void 0:e.price_cents)*this.getQuantity():0}},{key:"getQuantity",value:function(){var t=(0,s.default)('[name="quantity"]').val();return isNaN(t)&&(t=0),parseInt(t)}}]),l}(n(r(886)).default);e.default=l},567:t=>{"use strict";t.exports=window.jQuery},707:t=>{"use strict";t.exports=window.wc_stripe}},m={};function b(t){var e=m[t];if(void 0!==e)return e.exports;var r=m[t]={exports:{}};return g[t](r,r.exports,b),r.exports}t=b(318),e=t(b(38)),r=t(b(575)),n=t(b(205)),a=t(b(585)),o=t(b(754)),i=b(707),u=t(b(450)),c=t(b(663)),s=t(b(628)),l=t(b(579)),f=t(b(677)),y="afterpayClearpayMessage",h=function(t){return!0},v=function(t){(0,n.default)(c,t);var e,i,u=(e=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,o.default)(e);if(i){var n=(0,o.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,a.default)(this,t)});function c(t){return(0,r.default)(this,c),u.call(this,t)}return c}(i.BaseGateway),"undefined"!=typeof wc_stripe_afterpay_cart_params&&new((0,f.default)(u.default))(new v(wc_stripe_afterpay_cart_params),{elementType:y,elementId:"wc-stripe-afterpay-cart-msg",containerId:"wc-stripe-afterpay-cart-container",isSupported:h}),"undefined"!=typeof wc_stripe_afterpay_product_params&&(Object.assign(v.prototype,i.ProductGateway.prototype),new l.default(new v(wc_stripe_afterpay_product_params),{elementType:y,elementId:"wc-stripe-afterpay-product-msg",isSupported:h})),"undefined"!=typeof wc_stripe_local_payment_params&&null!==(p=wc_stripe_local_payment_params)&&void 0!==p&&null!==(d=p.gateways)&&void 0!==d&&d.stripe_afterpay&&new((0,f.default)(c.default))(new v(wc_stripe_local_payment_params.gateways.stripe_afterpay),{elementType:y,elementId:"wc-stripe-afterpay-message-container",isSupported:h}),"undefined"!=typeof wc_stripe_bnpl_shop_params&&new s.default(i.stripe,wc_stripe_bnpl_shop_params,{id:"stripe_afterpay",elementType:y,isSupported:function(t){var e=t.data.currency;return t.data.stripe_afterpay.supportedCurrencies.includes(e)},isSupportedProduct:function(t,r){var n=r.price,a=t.data.currency,o=t.data.stripe_afterpay.hideIneligible,i=(0,e.default)(t.data[t.id].requiredParams[a],3),u=(i[0],i[1]),c=i[2];return!o||u<=n&&n<=c}})})();
//# sourceMappingURL=afterpay-message.js.map