{"version":3,"file":"ach-connections.js","mappings":"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","sources":["webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/createClass.js","webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/get.js","webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/inherits.js","webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://woo-stripe-payment/./node_modules/@babel/runtime/helpers/typeof.js","webpack://woo-stripe-payment/external window \"jQuery\"","webpack://woo-stripe-payment/external window [\"wc_stripe\"]","webpack://woo-stripe-payment/webpack/bootstrap","webpack://woo-stripe-payment/./assets/js/frontend/ach-connections.js"],"sourcesContent":["function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = window[\"jQuery\"];","module.exports = window[\"wc_stripe\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import $ from 'jquery';\nimport {BaseGateway, CheckoutGateway} from '@paymentplugins/wc-stripe';\n\nfunction Extendor(params) {\n    BaseGateway.call(this, params);\n    CheckoutGateway.call(this);\n};\n\nObject.assign(Extendor.prototype, BaseGateway.prototype, CheckoutGateway.prototype);\n\nclass StripeACH extends Extendor {\n    constructor(params) {\n        super(params);\n        this.handle_create_account_change();\n    }\n\n    initialize() {\n        window.addEventListener('hashchange', this.hashchange.bind(this));\n        $(document.body).on('payment_method_selected', this.payment_method_selected.bind(this));\n        $(document.body).on('click', '#place_order', this.on_order_pay.bind(this));\n        $(document.body).on('change', '#createaccount', this.handle_create_account_change.bind(this));\n    }\n\n    updated_checkout() {\n        this.handle_create_account_change();\n    }\n\n    checkout_place_order() {\n        this.payment_token_received = true;\n        return super.checkout_place_order();\n    }\n\n    on_order_pay(e) {\n        if (this.is_gateway_selected()) {\n            // create the setup intent.\n            if (this.is_change_payment_method()) {\n                const {order_id, order_key} = this.params;\n                e.preventDefault();\n                this.create_setup_intent({order_id, order_key}).then(({setup_intent}) => {\n                    this.handle_payment_method_setup({\n                        order_id,\n                        order_key,\n                        client_secret: setup_intent.client_secret\n                    });\n                });\n            } else if (this.is_current_page('order_pay')) {\n                e.preventDefault();\n                this.process_order_pay();\n            }\n        }\n    }\n\n    handle_next_action(data) {\n        const {client_secret} = data;\n        this.stripe.collectBankAccountForPayment({\n            clientSecret: client_secret,\n            params: {\n                payment_method_type: 'us_bank_account',\n                payment_method_data: {\n                    billing_details: {\n                        name: this.get_customer_name(this.get_billing_prefix()),\n                        email: this.fields.get('billing_email', null),\n                    },\n                },\n            }\n        }).then(({paymentIntent, error}) => {\n            if (error) {\n                return this.submit_error(error);\n            }\n            // show the mandate confirmation\n            if (paymentIntent.status === \"requires_confirmation\") {\n                this.do_payment_confirmation(data);\n            } else {\n                this.cancel_payment_processing();\n            }\n        });\n    }\n\n    handle_payment_method_setup(data) {\n        const {client_secret} = data;\n        this.stripe.collectBankAccountForSetup({\n            clientSecret: client_secret,\n            params: {\n                payment_method_type: 'us_bank_account',\n                payment_method_data: {\n                    billing_details: {\n                        name: this.get_customer_name(this.get_billing_prefix()),\n                        email: this.fields.get('billing_email', null),\n                    },\n                },\n            }\n        }).then(({setupIntent, error}) => {\n            if (error) {\n                return this.submit_error(error);\n            }\n            // show the mandate confirmation\n            if (setupIntent.status === \"requires_confirmation\") {\n                this.do_setup_confirmation(data);\n            } else {\n                this.cancel_payment_processing();\n            }\n        });\n    }\n\n    do_payment_confirmation({client_secret, order_id, order_key}) {\n        this.stripe.confirmUsBankAccountPayment(client_secret).then(({paymentIntent, error}) => {\n            if (error) {\n                return this.submit_error(error);\n            }\n            if (paymentIntent.status === 'requires_payment_method') {\n                this.cancel_payment_processing();\n            } else if (paymentIntent.status === 'requires_action') {\n                // paymentIntent?.next_action?.type === 'verify_with_microdeposits'\n                // todo - eventually support microdeposits. For now, show a message\n                this.cancel_payment_processing();\n                return this.submit_error({code: 'ach_instant_only'});\n            } else if (paymentIntent.status === 'processing') {\n                this.set_nonce(paymentIntent.payment_method);\n                if (this.is_current_page('order_pay')) {\n                    this.get_form().trigger('submit');\n                } else {\n                    this.process_payment(order_id, order_key);\n                }\n            }\n        });\n    }\n\n    do_setup_confirmation({client_secret, order_id, order_key}) {\n        this.stripe.confirmUsBankAccountSetup(client_secret).then(({setupIntent, error}) => {\n            if (error) {\n                return this.submit_error(error);\n            }\n            if (setupIntent.status === 'requires_payment_method') {\n                this.cancel_payment_processing();\n            } else if (setupIntent.status === 'requires_action') {\n                // paymentIntent?.next_action?.type === 'verify_with_microdeposits'\n                // todo - eventually support microdeposits. For now, show a message\n                this.cancel_payment_processing();\n                return this.submit_error({code: 'ach_instant_only'});\n            } else if (setupIntent.status === 'succeeded') {\n                this.set_nonce(setupIntent.payment_method);\n                if (this.is_current_page('order_pay') || this.is_change_payment_method()) {\n                    this.get_form().trigger('submit');\n                } else {\n                    this.process_payment(order_id, order_key);\n                }\n            }\n        });\n    }\n\n    hide_place_order() {\n    }\n\n    show_payment_button() {\n        this.show_place_order();\n    }\n\n    cancel_payment_processing() {\n        $(this.container).closest('form').removeClass('processing');\n        $(this.container).closest('form')?.unblock();\n    }\n\n    fees_enabled() {\n        return this.params.fees_enabled == \"1\";\n    }\n\n    payment_method_selected() {\n        if (this.fees_enabled()) {\n            $(document.body).trigger('update_checkout');\n        }\n    }\n\n    create_setup_intent(data) {\n        return new Promise((resolve, reject) => {\n            $.ajax({\n                method: 'POST',\n                dataType: 'json',\n                data: {payment_method: this.gateway_id, ...data},\n                url: this.params.routes.base_path.replace('%s', 'wc-stripe/v1/subscriptions/setup-intent'),\n                beforeSend: this.ajax_before_send.bind(this)\n            }).done(response => {\n                if (response.code) {\n                    reject(response.message);\n                } else {\n                    resolve(response);\n                }\n            }).fail((xhr, textStatus, errorThrown) => {\n                this.submit_error(errorThrown);\n            });\n        })\n    }\n}\n\n//StripeACH.prototype = {...BaseGateway.prototype, ...CheckoutGateway.prototype, ...StripeACH.prototype};\n\nnew StripeACH(wc_stripe_ach_connections_params);"],"names":["module","exports","self","ReferenceError","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","obj","value","superPropBase","_get","property","receiver","Reflect","get","base","desc","getOwnPropertyDescriptor","call","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","create","constructor","__esModule","_typeof","assertThisInitialized","_setPrototypeOf","p","object","hasOwnProperty","Symbol","iterator","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","Extendor","params","BaseGateway","this","CheckoutGateway","assign","handle_create_account_change","addEventListener","hashchange","bind","$","document","body","on","payment_method_selected","on_order_pay","payment_token_received","e","is_gateway_selected","is_change_payment_method","order_id","order_key","preventDefault","create_setup_intent","then","setup_intent","handle_payment_method_setup","client_secret","is_current_page","process_order_pay","data","stripe","collectBankAccountForPayment","clientSecret","payment_method_type","payment_method_data","billing_details","name","get_customer_name","get_billing_prefix","email","fields","paymentIntent","error","submit_error","status","do_payment_confirmation","cancel_payment_processing","collectBankAccountForSetup","setupIntent","do_setup_confirmation","confirmUsBankAccountPayment","code","set_nonce","payment_method","get_form","trigger","process_payment","confirmUsBankAccountSetup","show_place_order","container","closest","removeClass","unblock","fees_enabled","Promise","resolve","reject","ajax","method","dataType","gateway_id","url","routes","base_path","replace","beforeSend","ajax_before_send","done","response","message","fail","xhr","textStatus","errorThrown","wc_stripe_ach_connections_params"],"sourceRoot":""}